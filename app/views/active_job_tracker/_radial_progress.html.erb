<%
  percentage = active_job_tracker_record.progress_percentage
  status = active_job_tracker_record.status
  
  # Calculate the stroke-dasharray and stroke-dashoffset for the circle
  circumference = 2 * Math::PI * 45 # 45 is the radius of the circle
  stroke_dashoffset = circumference * (1 - percentage / 100.0)
%>

<div class="active_job_tracker-radial-progress">
  <svg width="100" height="100" viewBox="0 0 100 100">
    <circle 
      class="active_job_tracker-radial-progress-bg" 
      cx="50" 
      cy="50" 
      r="45" 
      fill="none" 
      stroke-width="8"
    />
    <circle 
      class="active_job_tracker-radial-progress-fill active_job_tracker-radial-progress-<%= status %>" 
      cx="50" 
      cy="50" 
      r="45" 
      fill="none" 
      stroke-width="8"
      stroke-dasharray="<%= circumference %>"
      stroke-dashoffset="<%= stroke_dashoffset %>"
      transform="rotate(-90 50 50)"
    />
    <text 
      class="active_job_tracker-radial-progress-text" 
      x="50" 
      y="50" 
      text-anchor="middle" 
      dominant-baseline="middle"
    >
      <%= percentage %>%
    </text>
  </svg>
</div> 